import{c as r,o,b as t,d as a,z as A,a as G,t as u,n as V,r as h,e as g,w as v,v as f,k as J,x as K,T as Q,l as M}from"../app.js";const se={class:"p-6 space-y-6"},ie={class:"grid gap-6 lg:grid-cols-2"},le={key:0,class:"rounded-xl border border-zinc-800 bg-zinc-900"},ne={class:"border-b border-zinc-800 px-5 py-4 flex items-center justify-between"},oe={class:"flex items-center gap-3"},re={class:"font-medium text-white"},ae={class:"text-sm text-zinc-400"},de={class:"p-5 space-y-4"},ue={class:"grid grid-cols-2 gap-4 text-sm"},ce={class:"text-zinc-200 font-mono text-sm"},pe={key:0,class:"text-emerald-400 font-mono text-sm"},be={key:1,class:"text-amber-400 text-sm"},me={key:2,class:"text-zinc-500 text-sm"},ve={class:"col-span-2"},xe={class:"flex items-center gap-2"},fe={class:"text-zinc-300 text-xs break-all flex-1 bg-zinc-800 px-2 py-1 rounded"},ge={key:0,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ye={key:1,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ke={key:0,class:"col-span-2"},we={class:"flex items-center gap-2"},ze={class:"text-emerald-300 text-xs break-all flex-1 bg-emerald-900/20 border border-emerald-800/30 px-2 py-1 rounded"},he={key:0,class:"border-t border-zinc-800 pt-4"},_e={class:"flex gap-4 text-sm"},Ce={key:0},Se={class:"text-zinc-200 ml-1"},$e={key:1},je={class:"text-zinc-200 ml-1"},Le={class:"flex items-center gap-2 pt-2 border-t border-zinc-800"},Ue=["disabled"],De={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},Re=["disabled"],Ve={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},Me=["disabled"],Be={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},Te={key:3,class:"text-sm text-zinc-400 italic"},Pe={key:1,class:"rounded-xl border border-zinc-800 bg-zinc-900"},Fe={class:"border-b border-zinc-800 px-5 py-4 flex items-center justify-between"},Ee={class:"flex items-center gap-3"},Ne={class:"font-medium text-white"},qe={class:"text-sm text-zinc-400"},Ie={class:"p-5 space-y-4"},Oe={class:"grid grid-cols-2 gap-4 text-sm"},He={class:"text-zinc-200 font-mono text-sm"},Ae={key:0,class:"text-emerald-400 font-mono text-sm"},Ge={key:1,class:"text-amber-400 text-sm"},Je={key:2,class:"text-zinc-500 text-sm"},Ke={class:"col-span-2"},Qe={class:"flex items-center gap-2"},We={class:"text-zinc-300 text-xs break-all flex-1 bg-zinc-800 px-2 py-1 rounded"},Xe={key:0,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ye={key:1,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ze={key:0,class:"col-span-2"},et={class:"flex items-center gap-2"},tt={class:"text-emerald-300 text-xs break-all flex-1 bg-emerald-900/20 border border-emerald-800/30 px-2 py-1 rounded"},st={key:0,class:"border-t border-zinc-800 pt-4"},it={class:"flex gap-4 text-sm"},lt={key:0},nt={class:"text-zinc-200 ml-1"},ot={key:1},rt={class:"text-zinc-200 ml-1"},at={class:"flex items-center gap-2 pt-2 border-t border-zinc-800"},dt=["disabled"],ut={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},ct=["disabled"],pt={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},bt=["disabled"],mt={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},vt=["disabled"],xt={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-amber-400/30 border-t-amber-400"},ft={key:4,class:"text-sm text-zinc-400 italic"},gt={key:0,class:"rounded-xl border border-zinc-800 bg-zinc-900 p-12 text-center"},yt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},kt={class:"w-full max-w-lg rounded-xl border border-zinc-800 bg-zinc-900 shadow-2xl"},wt={class:"flex items-center justify-between border-b border-zinc-800 px-6 py-4"},zt={class:"p-6 space-y-4 max-h-[60vh] overflow-y-auto"},ht={class:"flex items-center gap-3"},_t={key:0},Ct={class:"border-t border-zinc-800 pt-4"},St={class:"grid grid-cols-2 gap-4"},$t={class:"flex justify-end gap-3 border-t border-zinc-800 px-6 py-4"},jt=["disabled"],Lt={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"},Ut={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},Dt={class:"w-full max-w-lg rounded-xl border border-zinc-800 bg-zinc-900 shadow-2xl"},Rt={class:"flex items-center justify-between border-b border-zinc-800 px-6 py-4"},Vt={class:"p-6 space-y-4 max-h-[60vh] overflow-y-auto"},Mt={class:"flex items-center gap-3"},Bt={key:0},Tt={class:"border-t border-zinc-800 pt-4"},Pt={class:"grid grid-cols-2 gap-4"},Ft={class:"flex justify-end gap-3 border-t border-zinc-800 px-6 py-4"},Et=["disabled"],Nt={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"},Ot={__name:"Resources",setup(qt){const F=M("stats"),k=M("api"),_=M("refreshStats"),x=M("toast"),n=G(()=>{var s,e;return(e=(s=F.value)==null?void 0:s.databases)==null?void 0:e.primary}),l=G(()=>{var s,e;return(e=(s=F.value)==null?void 0:s.databases)==null?void 0:e.redis}),w=h(!1),m=h(!1),C=h(!1),S=h(!1),y=h(!1),p=J({name:"",description:"",image:"",is_public:!1,public_port:"",limits_memory:"",limits_cpus:"",limits_cpu_shares:""}),b=J({name:"",description:"",image:"",is_public:!1,public_port:"",limits_memory:"",limits_cpus:"",limits_cpu_shares:""}),U=h(!1),D=h(!1);function $(s){return["running","running:healthy","healthy"].includes(s==null?void 0:s.toLowerCase())}function R(s){return["stopped","exited","error","failed"].includes(s==null?void 0:s.toLowerCase())}function z(s){return["starting","stopping","restarting","building"].includes(s==null?void 0:s.toLowerCase())}async function B(s){var e,i;if(!(!n.value||w.value)){w.value=!0;try{s==="start"?await k.startDatabase(n.value.uuid):s==="stop"?await k.stopDatabase(n.value.uuid):s==="restart"&&await k.restartDatabase(n.value.uuid),(e=x.value)==null||e.success("Database "+s,`${n.value.name} ${s} initiated`),await _()}catch(d){(i=x.value)==null||i.error(`Database ${s} failed`,d.message)}finally{w.value=!1}}}async function T(s){var e,i;if(!(!l.value||m.value)){m.value=!0;try{s==="start"?await k.startDatabase(l.value.uuid):s==="stop"?await k.stopDatabase(l.value.uuid):s==="restart"&&await k.restartDatabase(l.value.uuid),(e=x.value)==null||e.success("Cache "+s,`${l.value.name} ${s} initiated`),await _()}catch(d){(i=x.value)==null||i.error(`Cache ${s} failed`,d.message)}finally{m.value=!1}}}async function W(){var s,e;if(!(!l.value||m.value)&&confirm(`Flush ${l.value.name}? This will restart the service and clear all cached data.`)){m.value=!0;try{await k.restartDatabase(l.value.uuid),(s=x.value)==null||s.success("Cache Flushed",`${l.value.name} has been restarted - cache cleared`),await _()}catch(i){(e=x.value)==null||e.error("Flush Failed",i.message)}finally{m.value=!1}}}function X(){Object.assign(p,{name:n.value.name||"",description:n.value.description||"",image:n.value.image||"",is_public:!!n.value.is_public,public_port:n.value.public_port||"",limits_memory:n.value.limits_memory||"",limits_cpus:n.value.limits_cpus||"",limits_cpu_shares:n.value.limits_cpu_shares||""}),C.value=!0}function Y(){Object.assign(b,{name:l.value.name||"",description:l.value.description||"",image:l.value.image||"",is_public:!!l.value.is_public,public_port:l.value.public_port||"",limits_memory:l.value.limits_memory||"",limits_cpus:l.value.limits_cpus||"",limits_cpu_shares:l.value.limits_cpu_shares||""}),S.value=!0}async function Z(){var s,e;if(!y.value){y.value=!0;try{const i={};for(const[d,c]of Object.entries(p))(typeof c=="boolean"||c!=null&&c!=="")&&(i[d]=c);console.log("Saving database settings:",i),await k.updateDatabase(n.value.uuid,i),(s=x.value)==null||s.success("Settings Saved","Restart required for changes to take effect"),C.value=!1,await _()}catch(i){(e=x.value)==null||e.error("Save Failed",i.message)}finally{y.value=!1}}}async function ee(){var s,e;if(!y.value){y.value=!0;try{const i={};for(const[d,c]of Object.entries(b))(typeof c=="boolean"||c!=null&&c!=="")&&(i[d]=c);console.log("Saving cache settings:",i),await k.updateDatabase(l.value.uuid,i),(s=x.value)==null||s.success("Settings Saved","Restart required for changes to take effect"),S.value=!1,await _()}catch(i){(e=x.value)==null||e.error("Save Failed",i.message)}finally{y.value=!1}}}function te(s){return navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(s):new Promise((e,i)=>{try{const d=document.createElement("textarea");d.value=s,d.style.position="fixed",d.style.left="-9999px",document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),e()}catch(d){i(d)}})}async function E(s,e){var d,c,j;const i=s.internal_db_url||s.external_db_url;if(!i){(d=x.value)==null||d.error("No Connection URL","Connection string not available");return}try{await te(i),e==="db"?(U.value=!0,setTimeout(()=>U.value=!1,2e3)):(D.value=!0,setTimeout(()=>D.value=!1,2e3)),(c=x.value)==null||c.success("Copied","Connection string copied to clipboard")}catch(L){(j=x.value)==null||j.error("Copy Failed",L.message)}}function N(s){const e=s==null?void 0:s.toLowerCase();return e==="running"||e==="running:healthy"||e==="healthy"?"bg-emerald-500/10 text-emerald-400":e==="running:unhealthy"||e==="unhealthy"?"bg-amber-500/10 text-amber-400":e==="stopped"||e==="exited"||e==="error"||e==="failed"?"bg-red-500/10 text-red-400":e==="starting"||e==="stopping"||e==="restarting"||e==="building"?"bg-blue-500/10 text-blue-400":"bg-zinc-500/10 text-zinc-400"}function q(s){return s?s.replace("running:","").replace("_"," "):"Unknown"}function I(s){if(!s)return null;const e=s.split(":");return e.length>1?e[1]:"latest"}function O(s){var c,j;if(!(s!=null&&s.is_public)||!(s!=null&&s.public_port))return null;const e=(j=(c=s==null?void 0:s.destination)==null?void 0:c.server)==null?void 0:j.ip;if(!e)return null;const i=s.database_type||"",d=s.public_port;if(i.includes("postgresql")){const L=s.postgres_user||"postgres",P=s.postgres_db||"postgres";return`postgresql://${L}:***@${e}:${d}/${P}`}else if(i.includes("mysql")||i.includes("mariadb")){const L=s.mysql_user||"root",P=s.mysql_database||"";return`mysql://${L}:***@${e}:${d}/${P}`}else{if(i.includes("redis")||i.includes("dragonfly")||i.includes("keydb"))return`redis://${e}:${d}`;if(i.includes("mongodb"))return`mongodb://${e}:${d}`}return`${e}:${d}`}function H(s){var e,i;return((i=(e=s==null?void 0:s.destination)==null?void 0:e.server)==null?void 0:i.ip)||null}return(s,e)=>(o(),r("div",se,[e[82]||(e[82]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-white"},"Resources"),t("p",{class:"mt-1 text-sm text-zinc-400"},"Manage databases and caches")],-1)),t("div",ie,[n.value?(o(),r("div",le,[t("div",ne,[t("div",oe,[e[26]||(e[26]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10"},[t("svg",{class:"h-5 w-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})])],-1)),t("div",null,[t("div",re,u(n.value.name),1),t("div",ae,u(n.value.type),1)])]),t("span",{class:V([N(n.value.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},u(q(n.value.status)),3)]),t("div",de,[t("div",ue,[t("div",null,[e[27]||(e[27]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Version",-1)),t("div",ce,u(I(n.value.image)||"-"),1)]),t("div",null,[e[28]||(e[28]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Public Access",-1)),n.value.is_public&&n.value.public_port?(o(),r("div",pe,u(H(n.value))+":"+u(n.value.public_port),1)):n.value.is_public&&!n.value.public_port?(o(),r("div",be," Enabled (no port set) ")):(o(),r("div",me,"Not exposed"))]),t("div",ve,[e[31]||(e[31]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Internal URL",-1)),t("div",xe,[t("code",fe,u(n.value.internal_db_url||"-"),1),n.value.internal_db_url?(o(),r("button",{key:0,onClick:e[0]||(e[0]=i=>E(n.value,"db")),class:V(["flex-shrink-0 p-1.5 rounded hover:bg-zinc-700 transition-colors",U.value?"text-emerald-400":"text-zinc-400"])},[U.value?(o(),r("svg",ye,[...e[30]||(e[30]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):(o(),r("svg",ge,[...e[29]||(e[29]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])]))],2)):a("",!0)])]),n.value.is_public&&n.value.public_port?(o(),r("div",ke,[e[32]||(e[32]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"External URL",-1)),t("div",we,[t("code",ze,u(O(n.value)),1)]),e[33]||(e[33]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Connect from outside the Docker network using this URL",-1))])):a("",!0)]),n.value.limits_memory||n.value.limits_cpus?(o(),r("div",he,[e[36]||(e[36]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-2"},"Resource Limits",-1)),t("div",_e,[n.value.limits_memory?(o(),r("div",Ce,[e[34]||(e[34]=t("span",{class:"text-zinc-400"},"Memory:",-1)),t("span",Se,u(n.value.limits_memory),1)])):a("",!0),n.value.limits_cpus?(o(),r("div",$e,[e[35]||(e[35]=t("span",{class:"text-zinc-400"},"CPUs:",-1)),t("span",je,u(n.value.limits_cpus),1)])):a("",!0)])])):a("",!0),t("div",Le,[R(n.value.status)?(o(),r("button",{key:0,onClick:e[1]||(e[1]=i=>B("start")),disabled:w.value||z(n.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-500 disabled:opacity-50 transition-colors"},[w.value?(o(),r("span",De)):a("",!0),e[37]||(e[37]=g(" Start ",-1))],8,Ue)):a("",!0),$(n.value.status)?(o(),r("button",{key:1,onClick:e[2]||(e[2]=i=>B("stop")),disabled:w.value||z(n.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-500 disabled:opacity-50 transition-colors"},[w.value?(o(),r("span",Ve)):a("",!0),e[38]||(e[38]=g(" Stop ",-1))],8,Re)):a("",!0),$(n.value.status)||R(n.value.status)?(o(),r("button",{key:2,onClick:e[3]||(e[3]=i=>B("restart")),disabled:w.value||z(n.value.status),class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 disabled:opacity-50 transition-colors"},[w.value?(o(),r("span",Be)):a("",!0),e[39]||(e[39]=g(" Restart ",-1))],8,Me)):a("",!0),t("button",{onClick:X,class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 transition-colors ml-auto"},[...e[40]||(e[40]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),g(" Settings ",-1)])]),z(n.value.status)?(o(),r("span",Te,u(n.value.status)+"... ",1)):a("",!0)])])])):a("",!0),l.value?(o(),r("div",Pe,[t("div",Fe,[t("div",Ee,[e[41]||(e[41]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10"},[t("svg",{class:"h-5 w-5 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})])],-1)),t("div",null,[t("div",Ne,u(l.value.name),1),t("div",qe,u(l.value.type),1)])]),t("span",{class:V([N(l.value.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},u(q(l.value.status)),3)]),t("div",Ie,[t("div",Oe,[t("div",null,[e[42]||(e[42]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Version",-1)),t("div",He,u(I(l.value.image)||"-"),1)]),t("div",null,[e[43]||(e[43]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Public Access",-1)),l.value.is_public&&l.value.public_port?(o(),r("div",Ae,u(H(l.value))+":"+u(l.value.public_port),1)):l.value.is_public&&!l.value.public_port?(o(),r("div",Ge," Enabled (no port set) ")):(o(),r("div",Je,"Not exposed"))]),t("div",Ke,[e[46]||(e[46]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Internal URL",-1)),t("div",Qe,[t("code",We,u(l.value.internal_db_url||"-"),1),l.value.internal_db_url?(o(),r("button",{key:0,onClick:e[4]||(e[4]=i=>E(l.value,"redis")),class:V(["flex-shrink-0 p-1.5 rounded hover:bg-zinc-700 transition-colors",D.value?"text-emerald-400":"text-zinc-400"])},[D.value?(o(),r("svg",Ye,[...e[45]||(e[45]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):(o(),r("svg",Xe,[...e[44]||(e[44]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])]))],2)):a("",!0)])]),l.value.is_public&&l.value.public_port?(o(),r("div",Ze,[e[47]||(e[47]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"External URL",-1)),t("div",et,[t("code",tt,u(O(l.value)),1)]),e[48]||(e[48]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Connect from outside the Docker network using this URL",-1))])):a("",!0)]),l.value.limits_memory||l.value.limits_cpus?(o(),r("div",st,[e[51]||(e[51]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-2"},"Resource Limits",-1)),t("div",it,[l.value.limits_memory?(o(),r("div",lt,[e[49]||(e[49]=t("span",{class:"text-zinc-400"},"Memory:",-1)),t("span",nt,u(l.value.limits_memory),1)])):a("",!0),l.value.limits_cpus?(o(),r("div",ot,[e[50]||(e[50]=t("span",{class:"text-zinc-400"},"CPUs:",-1)),t("span",rt,u(l.value.limits_cpus),1)])):a("",!0)])])):a("",!0),t("div",at,[R(l.value.status)?(o(),r("button",{key:0,onClick:e[5]||(e[5]=i=>T("start")),disabled:m.value||z(l.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-500 disabled:opacity-50 transition-colors"},[m.value?(o(),r("span",ut)):a("",!0),e[52]||(e[52]=g(" Start ",-1))],8,dt)):a("",!0),$(l.value.status)?(o(),r("button",{key:1,onClick:e[6]||(e[6]=i=>T("stop")),disabled:m.value||z(l.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-500 disabled:opacity-50 transition-colors"},[m.value?(o(),r("span",pt)):a("",!0),e[53]||(e[53]=g(" Stop ",-1))],8,ct)):a("",!0),$(l.value.status)||R(l.value.status)?(o(),r("button",{key:2,onClick:e[7]||(e[7]=i=>T("restart")),disabled:m.value||z(l.value.status),class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 disabled:opacity-50 transition-colors"},[m.value?(o(),r("span",mt)):a("",!0),e[54]||(e[54]=g(" Restart ",-1))],8,bt)):a("",!0),$(l.value.status)?(o(),r("button",{key:3,onClick:W,disabled:m.value||z(l.value.status),class:"inline-flex items-center gap-2 rounded-lg border border-amber-600 bg-amber-600/10 px-3 py-1.5 text-sm font-medium text-amber-400 hover:bg-amber-600/20 disabled:opacity-50 transition-colors",title:"Restart to flush all cached data"},[m.value?(o(),r("span",xt)):a("",!0),e[55]||(e[55]=g(" Flush Cache ",-1))],8,vt)):a("",!0),t("button",{onClick:Y,class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 transition-colors ml-auto"},[...e[56]||(e[56]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),g(" Settings ",-1)])]),z(l.value.status)?(o(),r("span",ft,u(l.value.status)+"... ",1)):a("",!0)])])])):a("",!0)]),!n.value&&!l.value?(o(),r("div",gt,[...e[57]||(e[57]=[t("svg",{class:"mx-auto h-12 w-12 text-zinc-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})],-1),t("p",{class:"mt-4 text-sm text-zinc-400"},"No resources configured",-1)])])):a("",!0),(o(),A(Q,{to:"body"},[C.value?(o(),r("div",yt,[t("div",kt,[t("div",wt,[e[59]||(e[59]=t("h3",{class:"text-lg font-semibold text-white"},"Database Settings",-1)),t("button",{onClick:e[8]||(e[8]=i=>C.value=!1),class:"text-zinc-400 hover:text-white"},[...e[58]||(e[58]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",zt,[t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Name",-1)),v(t("input",{"onUpdate:modelValue":e[9]||(e[9]=i=>p.name=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[f,p.name]])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Description",-1)),v(t("input",{"onUpdate:modelValue":e[10]||(e[10]=i=>p.description=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[f,p.description]])]),t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Image (e.g., postgres:16-alpine)",-1)),v(t("input",{"onUpdate:modelValue":e[11]||(e[11]=i=>p.image=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 font-mono text-sm",placeholder:"postgres:16-alpine"},null,512),[[f,p.image]]),e[63]||(e[63]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Change image to upgrade/downgrade version",-1))]),t("div",ht,[v(t("input",{"onUpdate:modelValue":e[12]||(e[12]=i=>p.is_public=i),type:"checkbox",id:"db-is-public",class:"h-4 w-4 rounded border-zinc-600 bg-zinc-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-zinc-900"},null,512),[[K,p.is_public]]),e[64]||(e[64]=t("label",{for:"db-is-public",class:"text-sm font-medium text-zinc-300"},"Expose publicly",-1))]),p.is_public?(o(),r("div",_t,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Public Port",-1)),v(t("input",{"onUpdate:modelValue":e[13]||(e[13]=i=>p.public_port=i),type:"number",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"5432"},null,512),[[f,p.public_port]])])):a("",!0),t("div",Ct,[e[68]||(e[68]=t("h4",{class:"text-sm font-medium text-zinc-300 mb-3"},"Resource Limits",-1)),t("div",St,[t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"Memory Limit",-1)),v(t("input",{"onUpdate:modelValue":e[14]||(e[14]=i=>p.limits_memory=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"512m"},null,512),[[f,p.limits_memory]])]),t("div",null,[e[67]||(e[67]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"CPU Limit",-1)),v(t("input",{"onUpdate:modelValue":e[15]||(e[15]=i=>p.limits_cpus=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"1"},null,512),[[f,p.limits_cpus]])])])])]),t("div",$t,[t("button",{onClick:e[16]||(e[16]=i=>C.value=!1),class:"rounded-lg border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-medium text-white hover:bg-zinc-700 transition-colors"}," Cancel "),t("button",{onClick:Z,disabled:y.value,class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-500 disabled:opacity-50 transition-colors inline-flex items-center gap-2"},[y.value?(o(),r("span",Lt)):a("",!0),e[69]||(e[69]=g(" Save Settings ",-1))],8,jt)])])])):a("",!0)])),(o(),A(Q,{to:"body"},[S.value?(o(),r("div",Ut,[t("div",Dt,[t("div",Rt,[e[71]||(e[71]=t("h3",{class:"text-lg font-semibold text-white"},"Cache Settings",-1)),t("button",{onClick:e[17]||(e[17]=i=>S.value=!1),class:"text-zinc-400 hover:text-white"},[...e[70]||(e[70]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Vt,[t("div",null,[e[72]||(e[72]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Name",-1)),v(t("input",{"onUpdate:modelValue":e[18]||(e[18]=i=>b.name=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[f,b.name]])]),t("div",null,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Description",-1)),v(t("input",{"onUpdate:modelValue":e[19]||(e[19]=i=>b.description=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[f,b.description]])]),t("div",null,[e[74]||(e[74]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Image (e.g., redis:7-alpine, docker.dragonflydb.io/dragonflydb/dragonfly)",-1)),v(t("input",{"onUpdate:modelValue":e[20]||(e[20]=i=>b.image=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 font-mono text-sm",placeholder:"redis:7-alpine"},null,512),[[f,b.image]]),e[75]||(e[75]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Change image to upgrade/downgrade version",-1))]),t("div",Mt,[v(t("input",{"onUpdate:modelValue":e[21]||(e[21]=i=>b.is_public=i),type:"checkbox",id:"redis-is-public",class:"h-4 w-4 rounded border-zinc-600 bg-zinc-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-zinc-900"},null,512),[[K,b.is_public]]),e[76]||(e[76]=t("label",{for:"redis-is-public",class:"text-sm font-medium text-zinc-300"},"Expose publicly",-1))]),b.is_public?(o(),r("div",Bt,[e[77]||(e[77]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Public Port",-1)),v(t("input",{"onUpdate:modelValue":e[22]||(e[22]=i=>b.public_port=i),type:"number",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"6379"},null,512),[[f,b.public_port]])])):a("",!0),t("div",Tt,[e[80]||(e[80]=t("h4",{class:"text-sm font-medium text-zinc-300 mb-3"},"Resource Limits",-1)),t("div",Pt,[t("div",null,[e[78]||(e[78]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"Memory Limit",-1)),v(t("input",{"onUpdate:modelValue":e[23]||(e[23]=i=>b.limits_memory=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"256m"},null,512),[[f,b.limits_memory]])]),t("div",null,[e[79]||(e[79]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"CPU Limit",-1)),v(t("input",{"onUpdate:modelValue":e[24]||(e[24]=i=>b.limits_cpus=i),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.5"},null,512),[[f,b.limits_cpus]])])])])]),t("div",Ft,[t("button",{onClick:e[25]||(e[25]=i=>S.value=!1),class:"rounded-lg border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-medium text-white hover:bg-zinc-700 transition-colors"}," Cancel "),t("button",{onClick:ee,disabled:y.value,class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-500 disabled:opacity-50 transition-colors inline-flex items-center gap-2"},[y.value?(o(),r("span",Nt)):a("",!0),e[81]||(e[81]=g(" Save Settings ",-1))],8,Et)])])])):a("",!0)]))]))}};export{Ot as default};
