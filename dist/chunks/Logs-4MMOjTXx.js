import{r as i,c as h,m as b,p as _,b as a,o as r,d as o,w,f as y,x as z,t as k,l as f}from"../app.js";const L={class:"p-6 space-y-6 h-full flex flex-col"},j={class:"flex items-center justify-between"},A={class:"flex items-center gap-2 text-sm text-zinc-400"},B={class:"flex-1 min-h-0 rounded-xl border border-zinc-800 bg-zinc-900 overflow-hidden"},C={key:0,class:"flex items-center justify-center h-full"},I={class:"font-mono text-sm text-zinc-300 whitespace-pre-wrap"},U={__name:"Logs",setup(N){const v=f("stats"),x=f("api"),c=i(""),u=i(!0),s=i(!0),d=h(()=>{var t,e;return(e=(t=v.value)==null?void 0:t.application)==null?void 0:e.uuid});let n=null,l=null;async function p(){if(d.value)try{const t=await x.getApplicationLogs(d.value);c.value=t.logs||"",s.value&&l&&setTimeout(()=>{l.scrollTop=l.scrollHeight},0)}catch(t){console.error("Failed to fetch logs:",t)}finally{u.value=!1}}function m(t){l=t}return b(()=>{p(),n=setInterval(p,5e3)}),_(()=>{n&&clearInterval(n)}),(t,e)=>(r(),a("div",L,[o("div",j,[e[2]||(e[2]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-white"},"Application Logs"),o("p",{class:"mt-1 text-sm text-zinc-400"},"Live application output")],-1)),o("label",A,[w(o("input",{"onUpdate:modelValue":e[0]||(e[0]=g=>s.value=g),type:"checkbox",class:"h-4 w-4 rounded border-zinc-700 bg-zinc-800 text-violet-600 focus:ring-violet-500 focus:ring-offset-zinc-900"},null,512),[[z,s.value]]),e[1]||(e[1]=y(" Auto-scroll ",-1))])]),o("div",B,[u.value?(r(),a("div",C,[...e[3]||(e[3]=[o("div",{class:"h-6 w-6 animate-spin rounded-full border-2 border-zinc-700 border-t-violet-500"},null,-1)])])):(r(),a("div",{key:1,ref:m,class:"h-full overflow-auto p-4"},[o("pre",I,k(c.value||"No logs available"),1)]))])]))}};export{U as default};
