import{c as O,r as z,a as H,b as r,o as n,d as t,e as a,z as A,t as d,n as U,f,w as m,v as x,x as G,T as J,l as D}from"../app.js";const ee={class:"p-6 space-y-6"},te={class:"grid gap-6 lg:grid-cols-2"},se={key:0,class:"rounded-xl border border-zinc-800 bg-zinc-900"},ie={class:"border-b border-zinc-800 px-5 py-4 flex items-center justify-between"},le={class:"flex items-center gap-3"},oe={class:"font-medium text-white"},ne={class:"text-sm text-zinc-400"},re={class:"p-5 space-y-4"},ae={class:"grid grid-cols-2 gap-4 text-sm"},de={class:"text-zinc-200 font-mono text-sm"},ue={key:0,class:"text-emerald-400 font-mono text-sm"},ce={key:1,class:"text-amber-400 text-sm"},pe={key:2,class:"text-zinc-500 text-sm"},be={class:"col-span-2"},me={class:"flex items-center gap-2"},ve={class:"text-zinc-300 text-xs break-all flex-1 bg-zinc-800 px-2 py-1 rounded"},xe={key:0,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},fe={key:1,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ge={key:0,class:"col-span-2"},ye={class:"flex items-center gap-2"},ke={class:"text-emerald-300 text-xs break-all flex-1 bg-emerald-900/20 border border-emerald-800/30 px-2 py-1 rounded"},we={key:0,class:"border-t border-zinc-800 pt-4"},ze={class:"flex gap-4 text-sm"},he={key:0},_e={class:"text-zinc-200 ml-1"},Ce={key:1},Se={class:"text-zinc-200 ml-1"},$e={class:"flex items-center gap-2 pt-2 border-t border-zinc-800"},je=["disabled"],Le={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},Ue=["disabled"],De={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},Re=["disabled"],Ve={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},Me={key:3,class:"text-sm text-zinc-400 italic"},Be={key:1,class:"rounded-xl border border-zinc-800 bg-zinc-900"},Te={class:"border-b border-zinc-800 px-5 py-4 flex items-center justify-between"},Pe={class:"flex items-center gap-3"},Fe={class:"font-medium text-white"},Ee={class:"text-sm text-zinc-400"},Ne={class:"p-5 space-y-4"},qe={class:"grid grid-cols-2 gap-4 text-sm"},Ie={class:"text-zinc-200 font-mono text-sm"},Oe={key:0,class:"text-emerald-400 font-mono text-sm"},He={key:1,class:"text-amber-400 text-sm"},Ae={key:2,class:"text-zinc-500 text-sm"},Ge={class:"col-span-2"},Je={class:"flex items-center gap-2"},Ke={class:"text-zinc-300 text-xs break-all flex-1 bg-zinc-800 px-2 py-1 rounded"},Qe={key:0,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},We={key:1,class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Xe={key:0,class:"col-span-2"},Ye={class:"flex items-center gap-2"},Ze={class:"text-emerald-300 text-xs break-all flex-1 bg-emerald-900/20 border border-emerald-800/30 px-2 py-1 rounded"},et={key:0,class:"border-t border-zinc-800 pt-4"},tt={class:"flex gap-4 text-sm"},st={key:0},it={class:"text-zinc-200 ml-1"},lt={key:1},ot={class:"text-zinc-200 ml-1"},nt={class:"flex items-center gap-2 pt-2 border-t border-zinc-800"},rt=["disabled"],at={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},dt=["disabled"],ut={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},ct=["disabled"],pt={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"},bt=["disabled"],mt={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-amber-400/30 border-t-amber-400"},vt={key:4,class:"text-sm text-zinc-400 italic"},xt={key:0,class:"rounded-xl border border-zinc-800 bg-zinc-900 p-12 text-center"},ft={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},gt={class:"w-full max-w-lg rounded-xl border border-zinc-800 bg-zinc-900 shadow-2xl"},yt={class:"flex items-center justify-between border-b border-zinc-800 px-6 py-4"},kt={class:"p-6 space-y-4 max-h-[60vh] overflow-y-auto"},wt={class:"flex items-center gap-3"},zt={key:0},ht={class:"border-t border-zinc-800 pt-4"},_t={class:"grid grid-cols-2 gap-4"},Ct={class:"flex justify-end gap-3 border-t border-zinc-800 px-6 py-4"},St=["disabled"],$t={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"},jt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},Lt={class:"w-full max-w-lg rounded-xl border border-zinc-800 bg-zinc-900 shadow-2xl"},Ut={class:"flex items-center justify-between border-b border-zinc-800 px-6 py-4"},Dt={class:"p-6 space-y-4 max-h-[60vh] overflow-y-auto"},Rt={class:"flex items-center gap-3"},Vt={key:0},Mt={class:"border-t border-zinc-800 pt-4"},Bt={class:"grid grid-cols-2 gap-4"},Tt={class:"flex justify-end gap-3 border-t border-zinc-800 px-6 py-4"},Pt=["disabled"],Ft={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"},qt={__name:"Resources",setup(Et){const T=D("stats"),y=D("api"),h=D("refreshStats"),v=D("toast"),o=O(()=>T.value?.databases?.primary),l=O(()=>T.value?.databases?.redis),k=z(!1),b=z(!1),_=z(!1),C=z(!1),g=z(!1),u=H({name:"",description:"",image:"",is_public:!1,public_port:"",limits_memory:"",limits_cpus:"",limits_cpu_shares:""}),c=H({name:"",description:"",image:"",is_public:!1,public_port:"",limits_memory:"",limits_cpus:"",limits_cpu_shares:""}),$=z(!1),j=z(!1);function S(i){return["running","running:healthy","healthy"].includes(i?.toLowerCase())}function L(i){return["stopped","exited","error","failed"].includes(i?.toLowerCase())}function w(i){return["starting","stopping","restarting","building"].includes(i?.toLowerCase())}async function R(i){if(!(!o.value||k.value)){k.value=!0;try{i==="start"?await y.startDatabase(o.value.uuid):i==="stop"?await y.stopDatabase(o.value.uuid):i==="restart"&&await y.restartDatabase(o.value.uuid),v.value?.success("Database "+i,`${o.value.name} ${i} initiated`),await h()}catch(e){v.value?.error(`Database ${i} failed`,e.message)}finally{k.value=!1}}}async function V(i){if(!(!l.value||b.value)){b.value=!0;try{i==="start"?await y.startDatabase(l.value.uuid):i==="stop"?await y.stopDatabase(l.value.uuid):i==="restart"&&await y.restartDatabase(l.value.uuid),v.value?.success("Cache "+i,`${l.value.name} ${i} initiated`),await h()}catch(e){v.value?.error(`Cache ${i} failed`,e.message)}finally{b.value=!1}}}async function K(){if(!(!l.value||b.value)&&confirm(`Flush ${l.value.name}? This will restart the service and clear all cached data.`)){b.value=!0;try{await y.restartDatabase(l.value.uuid),v.value?.success("Cache Flushed",`${l.value.name} has been restarted - cache cleared`),await h()}catch(i){v.value?.error("Flush Failed",i.message)}finally{b.value=!1}}}function Q(){Object.assign(u,{name:o.value.name||"",description:o.value.description||"",image:o.value.image||"",is_public:!!o.value.is_public,public_port:o.value.public_port||"",limits_memory:o.value.limits_memory||"",limits_cpus:o.value.limits_cpus||"",limits_cpu_shares:o.value.limits_cpu_shares||""}),_.value=!0}function W(){Object.assign(c,{name:l.value.name||"",description:l.value.description||"",image:l.value.image||"",is_public:!!l.value.is_public,public_port:l.value.public_port||"",limits_memory:l.value.limits_memory||"",limits_cpus:l.value.limits_cpus||"",limits_cpu_shares:l.value.limits_cpu_shares||""}),C.value=!0}async function X(){if(!g.value){g.value=!0;try{const i={};for(const[e,s]of Object.entries(u))(typeof s=="boolean"||s!=null&&s!=="")&&(i[e]=s);console.log("Saving database settings:",i),await y.updateDatabase(o.value.uuid,i),v.value?.success("Settings Saved","Restart required for changes to take effect"),_.value=!1,await h()}catch(i){v.value?.error("Save Failed",i.message)}finally{g.value=!1}}}async function Y(){if(!g.value){g.value=!0;try{const i={};for(const[e,s]of Object.entries(c))(typeof s=="boolean"||s!=null&&s!=="")&&(i[e]=s);console.log("Saving cache settings:",i),await y.updateDatabase(l.value.uuid,i),v.value?.success("Settings Saved","Restart required for changes to take effect"),C.value=!1,await h()}catch(i){v.value?.error("Save Failed",i.message)}finally{g.value=!1}}}function Z(i){return navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(i):new Promise((e,s)=>{try{const p=document.createElement("textarea");p.value=i,p.style.position="fixed",p.style.left="-9999px",document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p),e()}catch(p){s(p)}})}async function P(i,e){const s=i.internal_db_url||i.external_db_url;if(!s){v.value?.error("No Connection URL","Connection string not available");return}try{await Z(s),e==="db"?($.value=!0,setTimeout(()=>$.value=!1,2e3)):(j.value=!0,setTimeout(()=>j.value=!1,2e3)),v.value?.success("Copied","Connection string copied to clipboard")}catch(p){v.value?.error("Copy Failed",p.message)}}function F(i){const e=i?.toLowerCase();return e==="running"||e==="running:healthy"||e==="healthy"?"bg-emerald-500/10 text-emerald-400":e==="running:unhealthy"||e==="unhealthy"?"bg-amber-500/10 text-amber-400":e==="stopped"||e==="exited"||e==="error"||e==="failed"?"bg-red-500/10 text-red-400":e==="starting"||e==="stopping"||e==="restarting"||e==="building"?"bg-blue-500/10 text-blue-400":"bg-zinc-500/10 text-zinc-400"}function E(i){return i?i.replace("running:","").replace("_"," "):"Unknown"}function N(i){if(!i)return null;const e=i.split(":");return e.length>1?e[1]:"latest"}function q(i){if(!i?.is_public||!i?.public_port)return null;const e=i?.destination?.server?.ip;if(!e)return null;const s=i.database_type||"",p=i.public_port;if(s.includes("postgresql")){const M=i.postgres_user||"postgres",B=i.postgres_db||"postgres";return`postgresql://${M}:***@${e}:${p}/${B}`}else if(s.includes("mysql")||s.includes("mariadb")){const M=i.mysql_user||"root",B=i.mysql_database||"";return`mysql://${M}:***@${e}:${p}/${B}`}else{if(s.includes("redis")||s.includes("dragonfly")||s.includes("keydb"))return`redis://${e}:${p}`;if(s.includes("mongodb"))return`mongodb://${e}:${p}`}return`${e}:${p}`}function I(i){return i?.destination?.server?.ip||null}return(i,e)=>(n(),r("div",ee,[e[82]||(e[82]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-white"},"Resources"),t("p",{class:"mt-1 text-sm text-zinc-400"},"Manage databases and caches")],-1)),t("div",te,[o.value?(n(),r("div",se,[t("div",ie,[t("div",le,[e[26]||(e[26]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10"},[t("svg",{class:"h-5 w-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})])],-1)),t("div",null,[t("div",oe,d(o.value.name),1),t("div",ne,d(o.value.type),1)])]),t("span",{class:U([F(o.value.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(E(o.value.status)),3)]),t("div",re,[t("div",ae,[t("div",null,[e[27]||(e[27]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Version",-1)),t("div",de,d(N(o.value.image)||"-"),1)]),t("div",null,[e[28]||(e[28]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Public Access",-1)),o.value.is_public&&o.value.public_port?(n(),r("div",ue,d(I(o.value))+":"+d(o.value.public_port),1)):o.value.is_public&&!o.value.public_port?(n(),r("div",ce," Enabled (no port set) ")):(n(),r("div",pe,"Not exposed"))]),t("div",be,[e[31]||(e[31]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Internal URL",-1)),t("div",me,[t("code",ve,d(o.value.internal_db_url||"-"),1),o.value.internal_db_url?(n(),r("button",{key:0,onClick:e[0]||(e[0]=s=>P(o.value,"db")),class:U(["flex-shrink-0 p-1.5 rounded hover:bg-zinc-700 transition-colors",$.value?"text-emerald-400":"text-zinc-400"])},[$.value?(n(),r("svg",fe,[...e[30]||(e[30]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):(n(),r("svg",xe,[...e[29]||(e[29]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])]))],2)):a("",!0)])]),o.value.is_public&&o.value.public_port?(n(),r("div",ge,[e[32]||(e[32]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"External URL",-1)),t("div",ye,[t("code",ke,d(q(o.value)),1)]),e[33]||(e[33]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Connect from outside the Docker network using this URL",-1))])):a("",!0)]),o.value.limits_memory||o.value.limits_cpus?(n(),r("div",we,[e[36]||(e[36]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-2"},"Resource Limits",-1)),t("div",ze,[o.value.limits_memory?(n(),r("div",he,[e[34]||(e[34]=t("span",{class:"text-zinc-400"},"Memory:",-1)),t("span",_e,d(o.value.limits_memory),1)])):a("",!0),o.value.limits_cpus?(n(),r("div",Ce,[e[35]||(e[35]=t("span",{class:"text-zinc-400"},"CPUs:",-1)),t("span",Se,d(o.value.limits_cpus),1)])):a("",!0)])])):a("",!0),t("div",$e,[L(o.value.status)?(n(),r("button",{key:0,onClick:e[1]||(e[1]=s=>R("start")),disabled:k.value||w(o.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-500 disabled:opacity-50 transition-colors"},[k.value?(n(),r("span",Le)):a("",!0),e[37]||(e[37]=f(" Start ",-1))],8,je)):a("",!0),S(o.value.status)?(n(),r("button",{key:1,onClick:e[2]||(e[2]=s=>R("stop")),disabled:k.value||w(o.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-500 disabled:opacity-50 transition-colors"},[k.value?(n(),r("span",De)):a("",!0),e[38]||(e[38]=f(" Stop ",-1))],8,Ue)):a("",!0),S(o.value.status)||L(o.value.status)?(n(),r("button",{key:2,onClick:e[3]||(e[3]=s=>R("restart")),disabled:k.value||w(o.value.status),class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 disabled:opacity-50 transition-colors"},[k.value?(n(),r("span",Ve)):a("",!0),e[39]||(e[39]=f(" Restart ",-1))],8,Re)):a("",!0),t("button",{onClick:Q,class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 transition-colors ml-auto"},[...e[40]||(e[40]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),f(" Settings ",-1)])]),w(o.value.status)?(n(),r("span",Me,d(o.value.status)+"... ",1)):a("",!0)])])])):a("",!0),l.value?(n(),r("div",Be,[t("div",Te,[t("div",Pe,[e[41]||(e[41]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10"},[t("svg",{class:"h-5 w-5 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})])],-1)),t("div",null,[t("div",Fe,d(l.value.name),1),t("div",Ee,d(l.value.type),1)])]),t("span",{class:U([F(l.value.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(E(l.value.status)),3)]),t("div",Ne,[t("div",qe,[t("div",null,[e[42]||(e[42]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Version",-1)),t("div",Ie,d(N(l.value.image)||"-"),1)]),t("div",null,[e[43]||(e[43]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Public Access",-1)),l.value.is_public&&l.value.public_port?(n(),r("div",Oe,d(I(l.value))+":"+d(l.value.public_port),1)):l.value.is_public&&!l.value.public_port?(n(),r("div",He," Enabled (no port set) ")):(n(),r("div",Ae,"Not exposed"))]),t("div",Ge,[e[46]||(e[46]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"Internal URL",-1)),t("div",Je,[t("code",Ke,d(l.value.internal_db_url||"-"),1),l.value.internal_db_url?(n(),r("button",{key:0,onClick:e[4]||(e[4]=s=>P(l.value,"redis")),class:U(["flex-shrink-0 p-1.5 rounded hover:bg-zinc-700 transition-colors",j.value?"text-emerald-400":"text-zinc-400"])},[j.value?(n(),r("svg",We,[...e[45]||(e[45]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):(n(),r("svg",Qe,[...e[44]||(e[44]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])]))],2)):a("",!0)])]),l.value.is_public&&l.value.public_port?(n(),r("div",Xe,[e[47]||(e[47]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-1"},"External URL",-1)),t("div",Ye,[t("code",Ze,d(q(l.value)),1)]),e[48]||(e[48]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Connect from outside the Docker network using this URL",-1))])):a("",!0)]),l.value.limits_memory||l.value.limits_cpus?(n(),r("div",et,[e[51]||(e[51]=t("div",{class:"text-zinc-500 text-xs uppercase tracking-wide mb-2"},"Resource Limits",-1)),t("div",tt,[l.value.limits_memory?(n(),r("div",st,[e[49]||(e[49]=t("span",{class:"text-zinc-400"},"Memory:",-1)),t("span",it,d(l.value.limits_memory),1)])):a("",!0),l.value.limits_cpus?(n(),r("div",lt,[e[50]||(e[50]=t("span",{class:"text-zinc-400"},"CPUs:",-1)),t("span",ot,d(l.value.limits_cpus),1)])):a("",!0)])])):a("",!0),t("div",nt,[L(l.value.status)?(n(),r("button",{key:0,onClick:e[5]||(e[5]=s=>V("start")),disabled:b.value||w(l.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-500 disabled:opacity-50 transition-colors"},[b.value?(n(),r("span",at)):a("",!0),e[52]||(e[52]=f(" Start ",-1))],8,rt)):a("",!0),S(l.value.status)?(n(),r("button",{key:1,onClick:e[6]||(e[6]=s=>V("stop")),disabled:b.value||w(l.value.status),class:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-500 disabled:opacity-50 transition-colors"},[b.value?(n(),r("span",ut)):a("",!0),e[53]||(e[53]=f(" Stop ",-1))],8,dt)):a("",!0),S(l.value.status)||L(l.value.status)?(n(),r("button",{key:2,onClick:e[7]||(e[7]=s=>V("restart")),disabled:b.value||w(l.value.status),class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 disabled:opacity-50 transition-colors"},[b.value?(n(),r("span",pt)):a("",!0),e[54]||(e[54]=f(" Restart ",-1))],8,ct)):a("",!0),S(l.value.status)?(n(),r("button",{key:3,onClick:K,disabled:b.value||w(l.value.status),class:"inline-flex items-center gap-2 rounded-lg border border-amber-600 bg-amber-600/10 px-3 py-1.5 text-sm font-medium text-amber-400 hover:bg-amber-600/20 disabled:opacity-50 transition-colors",title:"Restart to flush all cached data"},[b.value?(n(),r("span",mt)):a("",!0),e[55]||(e[55]=f(" Flush Cache ",-1))],8,bt)):a("",!0),t("button",{onClick:W,class:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-700 transition-colors ml-auto"},[...e[56]||(e[56]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),f(" Settings ",-1)])]),w(l.value.status)?(n(),r("span",vt,d(l.value.status)+"... ",1)):a("",!0)])])])):a("",!0)]),!o.value&&!l.value?(n(),r("div",xt,[...e[57]||(e[57]=[t("svg",{class:"mx-auto h-12 w-12 text-zinc-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})],-1),t("p",{class:"mt-4 text-sm text-zinc-400"},"No resources configured",-1)])])):a("",!0),(n(),A(J,{to:"body"},[_.value?(n(),r("div",ft,[t("div",gt,[t("div",yt,[e[59]||(e[59]=t("h3",{class:"text-lg font-semibold text-white"},"Database Settings",-1)),t("button",{onClick:e[8]||(e[8]=s=>_.value=!1),class:"text-zinc-400 hover:text-white"},[...e[58]||(e[58]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",kt,[t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Name",-1)),m(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>u.name=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[x,u.name]])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Description",-1)),m(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>u.description=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[x,u.description]])]),t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Image (e.g., postgres:16-alpine)",-1)),m(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>u.image=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 font-mono text-sm",placeholder:"postgres:16-alpine"},null,512),[[x,u.image]]),e[63]||(e[63]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Change image to upgrade/downgrade version",-1))]),t("div",wt,[m(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>u.is_public=s),type:"checkbox",id:"db-is-public",class:"h-4 w-4 rounded border-zinc-600 bg-zinc-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-zinc-900"},null,512),[[G,u.is_public]]),e[64]||(e[64]=t("label",{for:"db-is-public",class:"text-sm font-medium text-zinc-300"},"Expose publicly",-1))]),u.is_public?(n(),r("div",zt,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Public Port",-1)),m(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>u.public_port=s),type:"number",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"5432"},null,512),[[x,u.public_port]])])):a("",!0),t("div",ht,[e[68]||(e[68]=t("h4",{class:"text-sm font-medium text-zinc-300 mb-3"},"Resource Limits",-1)),t("div",_t,[t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"Memory Limit",-1)),m(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>u.limits_memory=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"512m"},null,512),[[x,u.limits_memory]])]),t("div",null,[e[67]||(e[67]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"CPU Limit",-1)),m(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>u.limits_cpus=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"1"},null,512),[[x,u.limits_cpus]])])])])]),t("div",Ct,[t("button",{onClick:e[16]||(e[16]=s=>_.value=!1),class:"rounded-lg border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-medium text-white hover:bg-zinc-700 transition-colors"}," Cancel "),t("button",{onClick:X,disabled:g.value,class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-500 disabled:opacity-50 transition-colors inline-flex items-center gap-2"},[g.value?(n(),r("span",$t)):a("",!0),e[69]||(e[69]=f(" Save Settings ",-1))],8,St)])])])):a("",!0)])),(n(),A(J,{to:"body"},[C.value?(n(),r("div",jt,[t("div",Lt,[t("div",Ut,[e[71]||(e[71]=t("h3",{class:"text-lg font-semibold text-white"},"Cache Settings",-1)),t("button",{onClick:e[17]||(e[17]=s=>C.value=!1),class:"text-zinc-400 hover:text-white"},[...e[70]||(e[70]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Dt,[t("div",null,[e[72]||(e[72]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Name",-1)),m(t("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>c.name=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[x,c.name]])]),t("div",null,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Description",-1)),m(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>c.description=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[x,c.description]])]),t("div",null,[e[74]||(e[74]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Image (e.g., redis:7-alpine, docker.dragonflydb.io/dragonflydb/dragonfly)",-1)),m(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>c.image=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 font-mono text-sm",placeholder:"redis:7-alpine"},null,512),[[x,c.image]]),e[75]||(e[75]=t("p",{class:"mt-1 text-xs text-zinc-500"},"Change image to upgrade/downgrade version",-1))]),t("div",Rt,[m(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>c.is_public=s),type:"checkbox",id:"redis-is-public",class:"h-4 w-4 rounded border-zinc-600 bg-zinc-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-zinc-900"},null,512),[[G,c.is_public]]),e[76]||(e[76]=t("label",{for:"redis-is-public",class:"text-sm font-medium text-zinc-300"},"Expose publicly",-1))]),c.is_public?(n(),r("div",Vt,[e[77]||(e[77]=t("label",{class:"block text-sm font-medium text-zinc-300 mb-1"},"Public Port",-1)),m(t("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>c.public_port=s),type:"number",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"6379"},null,512),[[x,c.public_port]])])):a("",!0),t("div",Mt,[e[80]||(e[80]=t("h4",{class:"text-sm font-medium text-zinc-300 mb-3"},"Resource Limits",-1)),t("div",Bt,[t("div",null,[e[78]||(e[78]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"Memory Limit",-1)),m(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>c.limits_memory=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"256m"},null,512),[[x,c.limits_memory]])]),t("div",null,[e[79]||(e[79]=t("label",{class:"block text-sm text-zinc-400 mb-1"},"CPU Limit",-1)),m(t("input",{"onUpdate:modelValue":e[24]||(e[24]=s=>c.limits_cpus=s),type:"text",class:"w-full rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-white text-sm placeholder:text-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.5"},null,512),[[x,c.limits_cpus]])])])])]),t("div",Tt,[t("button",{onClick:e[25]||(e[25]=s=>C.value=!1),class:"rounded-lg border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-medium text-white hover:bg-zinc-700 transition-colors"}," Cancel "),t("button",{onClick:Y,disabled:g.value,class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-500 disabled:opacity-50 transition-colors inline-flex items-center gap-2"},[g.value?(n(),r("span",Ft)):a("",!0),e[81]||(e[81]=f(" Save Settings ",-1))],8,Pt)])])])):a("",!0)]))]))}};export{qt as default};
